<div class="checkout container mt-5">
  <h1 class="text-center mb-4">Checkout</h1>
  <p class="text-center text-success mb-4">{{orderMsg}}</p>

  <div class="row">
    <!-- Left Side Shipping Form -->
    <div class="col-md-7">
      <h3 class="mb-3">Add Shipping Address</h3>

      <form #orderData="ngForm" class="common-form" (ngSubmit)="orderNow(orderData.value,orderData)">

        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input
            type="email"
            id="email"
            name="email"
            class="form-control from-control-sm w-50"
            placeholder="Enter your email"
            ngModel
            #email="ngModel"
            required
          />
          <p *ngIf="email.touched && email.invalid" class="text-danger">Email is required</p>
        </div>

        <div class="mb-3">
          <label for="address" class="form-label">Address</label>
          <input
            type="text"
            id="address"
            name="address"
            class="form-control from-control-sm w-50"
            placeholder="Enter your address"
            ngModel
            #address="ngModel"
            required
          />
          <p *ngIf="address.touched && address.invalid" class="text-danger">Email is required</p>
        </div>

        
        <div class="mb-4">
          <label for="contact" class="form-label">Contact Number</label>
          <input
            type="text"
            id="contact"
            name="contact"
            class="form-control from-control-sm w-50"
            placeholder="Enter your contact number"
            ngModel
            #contact="ngModel"
            required
            pattern="^[0-9]{10}$"
          />
          <p *ngIf="contact.touched && contact.errors?.['required']" class="text-danger">Contact Number is required</p>
          <p *ngIf="contact.touched && !contact.errors?.['required'] && contact.errors?.['pattern']" class="text-danger">Enter a valid 10-digit contact number.</p>
        </div>

        
        <button type="submit" class="btn btn-primary mb-5 w-50" [disabled]="isProcessing">
          <span *ngIf="isProcessing" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
          {{ isProcessing ? 'Processing Order...' : 'Order Now' }}
        </button>
      </form>
    </div>

    <!-- Right Side: Order Summary -->
    <div class="col-md-5 ">
      <div class="card p-4  mt-md-0 orderSummary">
        <h3>Total Amount: â‚¹{{totalPrice}}</h3>
        <h4 class="mt-3">Payment Method: <b>Cash On Delivery</b></h4>
      </div>
    </div>
  </div>
</div>
